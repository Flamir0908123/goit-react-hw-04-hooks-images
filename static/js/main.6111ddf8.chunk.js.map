{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","App.module.css","Components/Searchbar/Searchbar.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Modal/Modal.js","Components/Button/Button.js","App.js","Components/api.js","reportWebVitals.js","index.js","Components/Modal/Modal.module.css"],"names":["module","exports","Searchbar","state","value","onSubmit","e","preventDefault","trim","props","setValue","setState","onChange","target","className","styles","this","type","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","images","onImageClick","map","id","webformatURL","tags","s","onClick","image","src","alt","ImageGallery","modalRoot","document","querySelector","Modal","closeModalbyEsc","code","showModal","closeModalbyClick","currentTarget","window","addEventListener","removeEventListener","createPortal","backdrop","button","icon","modal","children","Button","App","page","status","loader","modalContent","val","prevState","toLowerCase","alert","toast","dark","toastId","resetImages","setPage","modalImg","find","el","prevProps","fetch","then","res","ok","json","Promise","reject","Error","fetchImages","hits","length","warn","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","title","color","height","width","largeImageURL","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6111ddf8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__yKJWL\",\"image\":\"ImageGalleryItem_image__2Stys\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__ptMho\",\"title\":\"App_title__W6xHn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3lyxo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__15tpW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__ilBKp\"};","import React, { Component } from 'react';\nimport styles from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    value: '',\n  };\n\n  onSubmit = e => {\n    e.preventDefault();\n\n    if (this.state.value.trim() !== '') {\n      this.props.setValue(this.state.value);\n      this.setState({ value: '' });\n    }\n  };\n\n  onChange = e => {\n    this.setState({ value: e.target.value });\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form onSubmit={this.onSubmit}>\n          <button type=\"submit\">\n            <span>Search</span>\n          </button>\n\n          <input\n            onChange={this.onChange}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.value}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from 'react';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ images, onImageClick }) => {\n  return images.map(({ id, webformatURL, tags }) => {\n    return (\n      <li\n        className={s.ImageGalleryItem}\n        key={id}\n        onClick={() => onImageClick(id)}\n      >\n        <img className={s.image} src={webformatURL} alt={tags} />\n      </li>\n    );\n  });\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport s from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nconst ImageGallery = ({ images, onImageClick }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      <ImageGalleryItem images={images} onImageClick={onImageClick} />\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport styles from './Modal.module.css';\nimport { MdClose } from 'react-icons/md';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.closeModalbyEsc);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.closeModalbyEsc);\n  }\n\n  closeModalbyEsc = e => {\n    if (e.code === 'Escape') {\n      this.props.showModal();\n    }\n  };\n\n  closeModalbyClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.showModal();\n    }\n  };\n\n  render() {\n    const { showModal } = this.props;\n\n    return createPortal(\n      <div className={styles.backdrop} onClick={this.closeModalbyClick}>\n        <button\n          type=\"button\"\n          onClick={() => showModal()}\n          className={styles.button}\n        >\n          <MdClose className={styles.icon} />\n        </button>\n        <div className={styles.modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import React from 'react';\nimport s from './Button.module.css';\n\nexport default function Button({ onClick }) {\n  return (\n    <button type=\"button\" onClick={() => onClick()} className={s.Button}>\n      Load more\n    </button>\n  );\n}\n","import React, { Component } from 'react';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport Searchbar from './Components/Searchbar';\nimport ImageGallery from './Components/ImageGallery';\nimport Modal from './Components/Modal';\nimport Loader from 'react-loader-spinner';\nimport Button from './Components/Button';\n\nimport s from './App.module.css';\n\nimport { fetchImages } from './Components/api';\n\nclass App extends Component {\n  state = {\n    value: '',\n    page: 1,\n    images: [],\n    status: 'idle',\n    loader: false,\n    showModal: false,\n    modalContent: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { page, value } = this.state;\n    if (value !== prevState.value || page !== prevState.page) {\n      if (page === 1) {\n        this.resetImages();\n      }\n\n      this.setState({ loader: true });\n\n      fetchImages(page, value)\n        .then(res => {\n          if (res.hits.length < 12) {\n            toast.warn('All images are loaded', {\n              toastId: 'anotherCustomId',\n            });\n          }\n\n          this.setState(prevState => ({\n            images: [...prevState.images, ...res.hits],\n            status: 'resolved',\n          }));\n        })\n        .catch(() => this.setState({ status: 'rejected' }))\n        .finally(() => {\n          this.setState({ loader: false });\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        });\n    }\n  }\n\n  setValue = val => {\n    this.setState(prevState => {\n      if (prevState.value === val.toLowerCase()) {\n        alert('alert');\n        toast.dark('Try to change your input :)', {\n          toastId: 'customId',\n        });\n        return;\n      }\n\n      return { value: val.toLowerCase(), page: 1 };\n    });\n  };\n\n  resetImages = () => {\n    this.setState({ images: [] });\n  };\n\n  setPage = () => {\n    this.setState(prevState => {\n      return { page: prevState.page + 1 };\n    });\n  };\n\n  showModal = () => {\n    this.setState(prevState => {\n      return { showModal: !prevState.showModal };\n    });\n  };\n\n  onImageClick = id => {\n    const modalImg = this.state.images.find(el => el.id === id);\n    this.setState({ modalContent: modalImg });\n    this.showModal();\n  };\n\n  render() {\n    const { images, loader, status, showModal, modalContent } = this.state;\n\n    return (\n      <div>\n        <Searchbar setValue={this.setValue} />\n\n        {status === 'idle' ? (\n          <h2 className={s.title}>Input your query to find images</h2>\n        ) : null}\n        {status === 'resolved' ? (\n          <>\n            <ImageGallery images={images} onImageClick={this.onImageClick} />\n            <Button onClick={this.setPage} />\n          </>\n        ) : null}\n        {loader && (\n          <Loader\n            className=\"Loader\"\n            type=\"Oval\"\n            color=\"#9900cc\"\n            height={180}\n            width={180}\n          />\n        )}\n        {status === 'rejected' ? (\n          <h2 className={s.title}>Error. Try to change your query</h2>\n        ) : null}\n        {showModal && (\n          <Modal showModal={this.showModal}>\n            <img src={modalContent.largeImageURL} alt={modalContent.tags} />\n          </Modal>\n        )}\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const API_KEY = '9062055-da883187fb30391728e11f5fd';\n\nexport const fetchImages = function (page, val) {\n  return fetch(\n    `https://pixabay.com/api/?key=${API_KEY}&q=${val}&page=${page}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(res => {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(\n        new Error('Some server issue seems to have occured. Please try again'),\n      );\n    }\n  });\n};\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__LzDQZ\",\"modal\":\"Modal_modal__3XtW5\",\"button\":\"Modal_button__1-m-B\",\"icon\":\"Modal_icon__2CkcO\"};"],"sourceRoot":""}